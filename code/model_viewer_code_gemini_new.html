<!-- Include the model viewer library -->
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>

<style>
    .viewerWrapper {
        position: relative;
        width: 95vw;
        height: 75vh;
        margin: auto;
    }

    model-viewer {
        position: relative;
        width: 100%;
        height: 100%;
        border: 1px solid #ddd;
    }

    #backButton {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 1;
        display: none;
    }
</style>

<!-- Model viewer component -->
<div id="modelContainer">
    <div class="viewerWrapper">
        <model-viewer 
            src="https://raw.githubusercontent.com/nonpartisaneuphonium/3D-Model-Viewer/main/gemini_model/gemini_model.glb" 
            environment-image="https://raw.githubusercontent.com/nonpartisaneuphonium/3D-Model-Viewer/main/gemini_model/skybox_1k.hdr"
            skybox-image="https://raw.githubusercontent.com/nonpartisaneuphonium/3D-Model-Viewer/main/gemini_model/skybox_1k.hdr"
            alt="Description of your 3D model" 
            interaction-prompt="auto">
        </model-viewer>
        <button id="backButton">X</button>
    </div>
</div>

<script>
    const modelViewer = document.querySelector('model-viewer');
    const backButton = document.getElementById('backButton');

    document.addEventListener('click', function(event) {
        if (event.target === modelViewer && !modelViewer.hasAttribute('camera-controls')) {
            modelViewer.setAttribute('camera-controls', '');
            backButton.style.display = 'block';
        }
    });

    backButton.addEventListener('click', function(event) {
        event.stopPropagation();
        modelViewer.removeAttribute('camera-controls');
        backButton.style.display = 'none';
    });
</script>
